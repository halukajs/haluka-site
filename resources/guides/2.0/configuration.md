# Configuration

*	[Introduction](#introduction)
*	[Envronment Configuration](#environmentconfiguration)
	*	[Defining Environment Variables](#definingenvironmentvariables)
	*	[Retrieving Environment Variables](#retrievingenvironmentvariables)
	*	[Pre-defined Environment Variables](#predefinedenvironmentvariables)
*	[Accessing Configuration](#accessingconfiguration)

## Introduction
Haluka comes pre-configed with basic requirements for developing an application. All these preconfigs are stored on a single folder to have an easily maintainable codebase. All the configs can be found in `config` folder. All the config files are thoroughly documented so take your time to read all the files to modify the configs to suit up your needs.

## Environment Configuration

It is often helpful to have different configuration values based on the environment where the application is running. Haluka provides you with environment configuration based on `dotenv` package. You can add or changes environment values in `.env` file  in the root directory of the application.

Your `.env` file should not be committed to your application's source control, since each developer / server using your application could require a different environment configuration. Furthermore, this would be a security risk in the event an intruder gains access to your source control repository, since any sensitive credentials would get exposed.

If you are developing with a team, you may wish to continue including a .env.example file with your application. By putting placeholder values in the example configuration file, other developers on your team can clearly see which environment variables are needed to run your application.

### Defining Environment Variables

An environment varriable can be defined in the `.env` file by adding a line with `KEY=VALUE` structure. Example:

```js
APP_NAME=Haluka
```

If you need to define an environment variable with a value that contains spaces, you may do so by enclosing the value in double quotes.

```js
APP_NAME="Haluka Application"
```

### Retrieving Environment Variables
Your defined environment variables can be accessed using `Env Provider` using out global helpers `use` or `app`. Example:

```js
const Env = use('Env')
Env.get('APP_NAME', 'Haluka')
```
The second argument passed to `Env.get` is the "fallback value" or default value in case  no environment variable exists for yhr given key.

### Pre-defined Environment Variables
Haluka already defines some environment variables in your `.env` files for use in different stuffs:


| Variable    | Default Value   |  Available Values    |
|-------------|:---------------:|:--------------------:|
|  APP_NAME   |  HalukaApp      |       `string` (Can be any name)       |
|  APP_ENV    |    develop      |  `develop` &  `production` |
|  PORT       |   3000          |  `number` (Can be any available port) |
|  APP_KEY    |`(hash_value)`   |  `(hash_value)` (Generated by Haluka CLI) |
|  APP_URL    |http://localhost/ |  `string`   |
|  DB_HOST    |   localhost     |  `string` (Used in `database` config)   |
|  DB_NAME    |    `(empty)`    |  `string` (Used in `database` config)  |
|  DB_PORT    |     27017       |  `number` (Used in `database` config) |
|SESSION_STORE|  `(empty)`      |  `string` ([Session Store](session) defined in `session` config file)

## Accessing Configuration

Any number of `.js` files can be created in config folder and can be easily accessed using the Config Service Provider. To access `Config Service Provider`, we can use our global helpers `app` or `use`.

```js
const Config = use('Config')
Config.get('filename.key.subkey', 'fallback_value')
```

Config values are fetched using `Config.get` which accepts a string argument referencing the key you want in the form `fileName.key`.

You can fetch nested config values using dot notation:
```js
// Example of a config file e.g. database.js
{
  mongodb: {
    host: '127.0.0.1',
  },
}

// You can retrieve it as...
Config.get('database.mongodb.host')
```

If you are uncertain if the key is defined in the config file, an optional second argument can be supplied to `Config.get` that serves as fallback value in case the key is not defined in the config file.

```js
Config.get('database.mongodb.host', '127.0.0.1')
```

> You can add an additional config file in the config directory and access it in the similar way.
